{
  "reportId": "test-quality-1752997791705",
  "timestamp": "2025-07-20T07:49:51.705Z",
  "roomId": "test-quality-demo",
  "storyId": "US004_TestQuality",
  "storyStatus": "FAILURE",
  "narrative": "Story US004_TestQuality: ❌ FAILURE - E2E tests detected with multiple URL navigation anti-patterns. Tests should use click-based navigation from main entrance page.",
  "systemTests": [
    {
      "name": "test_US004_e2e_navigation_pattern",
      "storyId": "US004",
      "diagramId": "SD004",
      "status": "failed",
      "coverage": 85,
      "duration": 200,
      "error": "Multiple direct URL navigations detected in E2E tests"
    },
    {
      "name": "test_US004_test_quality_standards",
      "storyId": "US004",
      "diagramId": "SD004",
      "status": "failed",
      "coverage": 90,
      "duration": 150,
      "error": "Tests violate best practices for user journey simulation"
    }
  ],
  "coverage": {
    "overall": {
      "statements": 87.5,
      "branches": 82,
      "functions": 90,
      "lines": 87.5
    }
  },
  "fraudAnalysis": {
    "totalUsers": 3,
    "flaggedUsers": 2,
    "criticalUsers": 0,
    "overallRisk": "medium",
    "totalViolations": 3,
    "flaggedProfiles": [
      {
        "userId": "bad_test_dev",
        "testContent": "\ndescribe('E2E Test - Bad Pattern', () => {\n  it('should navigate through app', async () => {\n    await page.goto('http://localhost:3000');\n    await page.goto('http://localhost:3000/dashboard');\n    await page.goto('http://localhost:3000/profile');\n    await page.goto('http://localhost:3000/settings');\n    \n    // Direct URL navigation violates E2E best practices\n    expect(page.url()).toContain('/settings');\n  });\n});",
        "fraudScore": 60,
        "violations": [
          {
            "timestamp": "2025-07-20T07:49:51.704Z",
            "pattern": "test_multiple_urls",
            "category": "test_antipattern",
            "severity": "high",
            "content": "E2E test contains 4 URLs. Should use click-based navigation from main entrance page instead of direct URL access",
            "userId": "bad_test_dev"
          },
          {
            "timestamp": "2025-07-20T07:49:51.704Z",
            "pattern": "direct_page_navigation",
            "category": "test_antipattern",
            "severity": "medium",
            "content": "E2E tests should navigate via UI clicks, not direct URL access",
            "userId": "bad_test_dev"
          }
        ]
      },
      {
        "userId": "cypress_violator",
        "testContent": "\ndescribe('Cypress Test - Anti-pattern', () => {\n  it('should test multiple pages', () => {\n    cy.visit('https://app.example.com');\n    cy.visit('https://app.example.com/dashboard');\n    cy.visit('https://app.example.com/admin');\n    \n    // Should use cy.click() to navigate between pages\n    cy.url().should('include', '/admin');\n  });\n});",
        "fraudScore": 50,
        "violations": [
          {
            "timestamp": "2025-07-20T07:49:51.704Z",
            "pattern": "test_multiple_urls",
            "category": "test_antipattern",
            "severity": "high",
            "content": "E2E test contains 3 URLs. Should use click-based navigation from main entrance page instead of direct URL access",
            "userId": "cypress_violator"
          }
        ]
      }
    ],
    "topViolations": [
      {
        "timestamp": "2025-07-20T07:49:51.704Z",
        "pattern": "test_multiple_urls",
        "category": "test_antipattern",
        "severity": "high",
        "content": "E2E test contains 4 URLs. Should use click-based navigation from main entrance page instead of direct URL access",
        "userId": "bad_test_dev"
      },
      {
        "timestamp": "2025-07-20T07:49:51.704Z",
        "pattern": "direct_page_navigation",
        "category": "test_antipattern",
        "severity": "medium",
        "content": "E2E tests should navigate via UI clicks, not direct URL access",
        "userId": "bad_test_dev"
      },
      {
        "timestamp": "2025-07-20T07:49:51.704Z",
        "pattern": "test_multiple_urls",
        "category": "test_antipattern",
        "severity": "high",
        "content": "E2E test contains 3 URLs. Should use click-based navigation from main entrance page instead of direct URL access",
        "userId": "cypress_violator"
      }
    ],
    "recommendations": [
      "Refactor E2E tests to use click-based navigation",
      "Tests should start from main entrance page (login/home)",
      "Replace direct URL navigation with UI interactions",
      "Use page.click() or cy.click() instead of page.goto()/cy.visit()",
      "Implement proper test flow: Login → Navigate via UI → Test functionality",
      "Consider using Page Object Model for better test structure"
    ],
    "In Progress": false
  },
  "failureReasons": [
    "E2E tests contain anti-patterns with multiple direct URL navigations",
    "Tests should simulate real user journeys using click-based navigation",
    "Only main entrance page should be accessed via direct URL"
  ],
  "generatedAt": "2025-07-20T07:49:51.705Z"
}