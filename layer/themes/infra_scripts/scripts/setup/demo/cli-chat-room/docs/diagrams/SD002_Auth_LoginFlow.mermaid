sequenceDiagram
    participant Client
    participant Server
    participant ExtDB as ext_database_query
    participant ExtHTTP as ext_http_request
    participant ExtCache as ext_cache_get
    
    Client->>Server: Login Request (username, password)
    
    Server->>ExtCache: ext_cache_get(session_token)
    ExtCache-->>Server: Cache miss
    
    Server->>ExtDB: ext_database_query(get_user_by_username)
    ExtDB-->>Server: User data
    
    Server->>Server: Validate password hash
    
    Server->>ExtHTTP: ext_http_request(auth_service_validate)
    ExtHTTP-->>Server: Validation success
    
    Server->>ExtDB: ext_database_insert(create_session)
    ExtDB-->>Server: Session created
    
    Server->>ExtCache: ext_cache_set(session_token)
    ExtCache-->>Server: Cached
    
    Server-->>Client: Login success + token